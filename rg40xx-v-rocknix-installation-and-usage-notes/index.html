<!DOCTYPE html>
<html lang="zh">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>RG40XX V 安装 ROCKNIX 系统全流程与使用记录 | 明无梦</title>
  <meta name="description" content="之前写过在 RG35XX Plus 上安装各种系统《RG35XX Plus 开源游戏掌机不同系统的安装尝试与使用指南》，当时 ROCKNIX 系统还不支持 RG35XX Plus。现在购买了新的机器 RG40XX V，我们来安装 ROCKNIX 玩一下。
安装 ROCKNIX 系统 下载系统镜 …">
  <link rel="canonical" href="https://www.mwum.com/rg40xx-v-rocknix-installation-and-usage-notes/">
      <link rel="alternate" hreflang="zh" href="https://www.mwum.com/rg40xx-v-rocknix-installation-and-usage-notes/">
      <link rel="alternate" hreflang="en" href="https://www.mwum.com/en/rg40xx-v-rocknix-installation-and-usage-notes/">
        <link rel="alternate" hreflang="x-default" href="https://www.mwum.com/en/rg40xx-v-rocknix-installation-and-usage-notes/">
    <link rel="stylesheet" href="/css/style.min.css" crossorigin="anonymous">
  <script src="/js/bundle.min.js" defer></script>

  <link rel="icon" href="/favicon.ico" type="image/x-icon">
    
      <script async src="https://www.googletagmanager.com/gtag/js?id=G-XNJSCC1KSF"></script>
      <script>
        var doNotTrack = false;
        if ( true ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-XNJSCC1KSF');
        }
      </script>
</head>


<body>

<header class="site-header">

  <div class="wrapper">
    <a class="site-title" href="/">明无梦</a>

    <nav class="site-nav">
      <a class="menu-icon" id="js-nav-menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <a class="menu-icon-activate" id="js-nav-menu-icon-activate">
        <svg viewBox="0 0 36 15">
          <path fill="#424242" d="m36,1.484c0,0.82 -0.665,1.484 -1.484,1.484l-33.032,0c-0.819,0.001 -1.484,-0.664 -1.484,-1.484l0,0c0,-0.819 0.665,-1.484 1.484,-1.484l33.032,0c0.82,0 1.484,0.665 1.484,1.484l0,0z"/>
          <path fill="#424242" d="m36,7.516c0,0.819 -0.665,1.484 -1.484,1.484l-33.032,0c-0.819,0 -1.484,-0.665 -1.484,-1.484l0,0c0,-0.82 0.665,-1.484 1.484,-1.484l33.032,0c0.82,-0.001 1.484,0.664 1.484,1.484l0,0z"/>
          <path fill="#424242" d="m36,13.516c0,0.819 -0.665,1.484 -1.484,1.484l-33.032,0c-0.819,0 -1.484,-0.665 -1.484,-1.484l0,0c0,-0.82 0.665,-1.484 1.484,-1.484l33.032,0c0.82,-0.001 1.484,0.664 1.484,1.484l0,0z"/>
        </svg>
      </a>

      <div class="trigger" id="js-nav-menu-trigger">
        <a class="page-link" href="/archive/">归档</a>
        <a class="page-link" href="/tags/">标签</a>
        <a class="page-link" href="/books/">书籍</a>
        <a class="page-link" href="/about/">关于</a>
        <a class="page-link" href="/rss.xml">订阅</a>
              <a class="page-link" href="/en/rg40xx-v-rocknix-installation-and-usage-notes/">中/EN</a>
      </div>
    </nav>

  </div>

</header>


<div class="content">
  <div class="wrapper">
    

<article class="post">

  <header class="post-header">
    <h1 class="post-title"><a href="/rg40xx-v-rocknix-installation-and-usage-notes/">RG40XX V 安装 ROCKNIX 系统全流程与使用记录</a></h1>
    <ul class="post-meta">
      <li class="published-date">2025-08-17</li>
        <li class="updated-date"> | 更新: 2025-08-30</li>
        <li> | 标签: </li>
          <li class="post-tag"><a href="/tags/?names=RG40XX%20V#tag-list-display">RG40XX V</a></li>
          <li class="post-tag"><a href="/tags/?names=%e5%bc%80%e6%ba%90%e6%b8%b8%e6%88%8f%e6%8e%8c%e6%9c%ba#tag-list-display">开源游戏掌机</a></li>
          <li class="post-tag"><a href="/tags/?names=ROCKNIX#tag-list-display">ROCKNIX</a></li>
          <li class="post-tag"><a href="/tags/?names=EmulationStation#tag-list-display">EmulationStation</a></li>
    </ul>
  </header>

  <div itemscope itemtype="http://schema.org/Article">
    <div class="post-content" itemprop="articleBody">
        <div id="post-toc" class="toc"></div>
      <p>之前写过在 RG35XX Plus 上安装各种系统《<a href="






  
  
    
      /rg35xx-plus-open-source-handheld-os-installation-and-usage-guide/
    
  

">RG35XX Plus 开源游戏掌机不同系统的安装尝试与使用指南</a>》，当时 <a href="https://rocknix.org/">ROCKNIX</a> 系统还不支持 RG35XX Plus。现在购买了新的机器 RG40XX V，我们来安装 ROCKNIX 玩一下。</p>
<h2 id="安装-rocknix-系统"><a class="anchor" href="#%e5%ae%89%e8%a3%85-rocknix-%e7%b3%bb%e7%bb%9f">安装 ROCKNIX 系统</a></h2>
<ol>
<li>
<p>下载系统镜像：<a href="https://github.com/ROCKNIX/distribution/releases/tag/20250517">https://github.com/ROCKNIX/distribution/releases/tag/20250517</a>，<br>
我们是 RG40XX V 设备所以下载 ROCKNIX-H700.aarch64-20250517.img.gz（不同设备可能镜像不同）</p>
</li>
<li>
<p>将系统镜像写入 SD 卡，刷写工具我们使用 <a href="https://etcher.balena.io/">Etcher</a>（其它类似工具 <a href="https://rufus.ie/">Rufus</a> 或者 <code>dd</code> 命令行等都可以）<br>
<div class="img-row" style="--num-cols: 2;">
       
       <img src="/rg40xx-v-rocknix-installation-and-usage-notes/etcher-select.webp" alt="etcher-select">
       
       <img src="/rg40xx-v-rocknix-installation-and-usage-notes/etcher-flashing.webp" alt="etcher-flashing">
   </div>
</p>
</li>
<li>
<p>如果你的设备是 H700 系列的（比如我的 RG40XX V 就是），需要额外的步骤，因为此系列的不同设备硬件存在差异，所以我们需要手动选择正确的设备树文件</p>
<ol>
<li>进入 SD 卡根目录，找到 <code>device_trees</code> 文件夹，找到对应的设备树文件，比如我们用 <code>sun50i-h700-anbernic-rg40xx-v.dtb</code></li>
<li>将这个文件复制到 SD 卡根目录并将其重命名为 <code>dtb.img</code>（全部小写）</li>
</ol>
</li>
<li>
<p>弹出 SD 卡，然后在断电状态下将 SD 插入机器，最后开机</p>
</li>
<li>
<p>系统安装很快，感觉两分多钟就好了<br>
<img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-homepage-nintendo.webp" alt="rocknix-homepage-nintendo"></p>
</li>
</ol>
<h2 id="使用记录"><a class="anchor" href="#%e4%bd%bf%e7%94%a8%e8%ae%b0%e5%bd%95">使用记录</a></h2>
<p>使用记录是在 <a href="https://github.com/ROCKNIX/distribution-nightly/releases/tag/nightly-20250815">nightly-20250815</a> 测试系统版本下的，而非 20250517 正式版，因为正式版在 RG40XX V 的支持上有些问题，比如 HDMI 视频输出正式版不支持，但是 nightly 版是可以的。我需要 HDMI 功能做一些截图，所以在 nightly 版系统下会更加方便。</p>
<p>官方文档已经很详细了，比如<a href="https://rocknix.org/play/add-games/">如何添加游戏</a>、<a href="https://rocknix.org/configure/networking/">配置网络</a>、<a href="https://rocknix.org/configure/cloud-sync/">云同步</a>、<a href="https://rocknix.org/devices/anbernic/rg40xx-v/">RG40XX V 机器相关（如快捷键）</a>等，本文只是随性记录一下，比如我觉得自己容易忘记的、不够直觉的、比较特殊的等。</p>
<h3 id="ssh--samba"><a class="anchor" href="#ssh--samba">SSH &amp; Samba</a></h3>
<p>SSH 默认是开启的，<code>ssh root@&lt;device_ip_address&gt;</code> 可进入，密码是 <code>rocknix</code>。</p>
<p>Samba 默认也是开启的，<code>smb://&lt;device_ip_address</code> 可进入，无需账号密码，匿名登陆即可。</p>
<h3 id="hdmi"><a class="anchor" href="#hdmi">HDMI</a></h3>
<p>官方文档有写有些设备在开机之前就插入显示器会更好，而不是在开机之后。</p>
<p>系统设置页面是没有 HDMI 相关设置的，但是如果你想进行一些设置，比如输出分辨率，官方文档有提供<a href="https://rocknix.org/configure/hdmi/">方法</a>：</p>
<ul>
<li>创建自启动脚本：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mkdir /storage/.config/autostart
</span></span><span class="line"><span class="cl">vim /storage/.config/autostart/090-sway-hdmi-resolution
</span></span></code></pre></div></li>
<li>文件内容：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="nb">echo</span> <span class="s2">&#34;output HDMI-A-1 resolution 1280x720&#34;</span> &gt;&gt; /storage/.config/sway/config
</span></span></code></pre></div></li>
<li>赋予可执行权限：
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">chmod +x /storage/.config/autostart/090-sway-hdmi-resolution
</span></span></code></pre></div></li>
</ul>
<h3 id="emulationstation"><a class="anchor" href="#emulationstation">EmulationStation</a></h3>
<p>ROCKNIX 的前端 UI 基于 Batocera EmulationStation 的分支 <a href="https://github.com/ROCKNIX/emulationstation-next">EmulationStation NEXT</a>，由 ROCKNIX 定制并维护。</p>
<h3 id="为什么主页没有显示我想要的游戏平台入口"><a class="anchor" href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e4%b8%bb%e9%a1%b5%e6%b2%a1%e6%9c%89%e6%98%be%e7%a4%ba%e6%88%91%e6%83%b3%e8%a6%81%e7%9a%84%e6%b8%b8%e6%88%8f%e5%b9%b3%e5%8f%b0%e5%85%a5%e5%8f%a3">为什么主页没有显示我想要的游戏平台入口？</a></h3>
<p>刚进入系统只有 PICO-8 和 ScummVM。<br>
<img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-navigation-bar.webp" alt="rocknix-navigation-bar"></p>
<p>EmulationStation 会根据配置文件 <code>/storage/.emulationstation/es_systems.cfg</code> 中定义的路径去扫描 ROMs，如果扫描结果为空，该游戏平台就不会出现在主页列表中。比如下面是配置文件中的一小段关于 NES 的配置：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="nt">&lt;system&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;name&gt;</span>nes<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;fullname&gt;</span>Nintendo Entertainment System<span class="nt">&lt;/fullname&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;manufacturer&gt;</span>Nintendo<span class="nt">&lt;/manufacturer&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;release&gt;</span>1985<span class="nt">&lt;/release&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;hardware&gt;</span>console<span class="nt">&lt;/hardware&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;path&gt;</span>/storage/roms/nes<span class="nt">&lt;/path&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;extension&gt;</span>.nes .unif .unf .zip .7z<span class="nt">&lt;/extension&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;command&gt;</span>/usr/bin/runemu.sh %ROM% -P%SYSTEM% --core=%CORE% --emulator=%EMULATOR% --controllers=&#34;%CONTROLLERSCONFIG%&#34;<span class="nt">&lt;/command&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;platform&gt;</span>nes<span class="nt">&lt;/platform&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;theme&gt;</span>nes<span class="nt">&lt;/theme&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;emulators&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;emulator</span> <span class="na">name=</span><span class="s">&#34;retroarch&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;cores&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;core</span> <span class="na">default=</span><span class="s">&#34;true&#34;</span><span class="nt">&gt;</span>nestopia<span class="nt">&lt;/core&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;core&gt;</span>fceumm<span class="nt">&lt;/core&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;core&gt;</span>quicknes<span class="nt">&lt;/core&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;core&gt;</span>mesen<span class="nt">&lt;/core&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/cores&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/emulator&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;emulator</span> <span class="na">name=</span><span class="s">&#34;mednafen&#34;</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;cores&gt;</span>
</span></span><span class="line"><span class="cl">                <span class="nt">&lt;core&gt;</span>nes<span class="nt">&lt;/core&gt;</span>
</span></span><span class="line"><span class="cl">            <span class="nt">&lt;/cores&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;/emulator&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/emulators&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/system&gt;</span>
</span></span></code></pre></div><p>如果我们在 /storage/roms/nes 目录放入合法的 ROM，那么主页就会出现 NES 游戏平台。</p>
<div class="img-row-gap" style="--num-cols: 2;">
    
    <img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-homepage-nintendo.webp" alt="rocknix-homepage-nintendo">
    
    <img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-navigation-bar-with-nintendo.webp" alt="rocknix-navigation-bar-with-nintendo">
</div>

<h3 id="手动添加游戏元数据"><a class="anchor" href="#%e6%89%8b%e5%8a%a8%e6%b7%bb%e5%8a%a0%e6%b8%b8%e6%88%8f%e5%85%83%e6%95%b0%e6%8d%ae">手动添加游戏元数据</a></h3>
<p>ROCKNIX 支持通过 <a href="https://screenscraper.fr/">ScreenScraper</a> 来联网抓取游戏元数据，例如封面图片、游戏发行时间等，如果抓取不到可以手动添加。</p>
<p>我们以添加 NES 平台一个「爆笑三国」的游戏为例，在 <code>/storage/roms/nes</code> 文件夹中放入游戏 ROM「爆笑三国.zip」，然后放入资源文件 boxfront.jpg 和 logo.png，文件结构如下所示：</p>
<pre tabindex="0"><code>/storage/roms/nes
|-- assets
|   `-- 爆笑三国
|       |-- boxfront.jpg
|       `-- logo.png
|-- gamelist.xml
`-- 爆笑三国.zip
</code></pre><p>其中 <code>gamelist.xml</code> 是 EmulationStation 所使用的元数据文件，内容如下（还可以添加更多元数据，例如评级、游玩人数等，这里作为演示只添加了一些）：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-xml" data-lang="xml"><span class="line"><span class="cl"><span class="cp">&lt;?xml version=&#34;1.0&#34;?&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;gameList&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;game&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;path&gt;</span>./爆笑三国.zip<span class="nt">&lt;/path&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;name&gt;</span>爆笑三国<span class="nt">&lt;/name&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;developer&gt;</span>外星科技<span class="nt">&lt;/developer&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;releasedate&gt;</span>1994<span class="nt">&lt;/releasedate&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;desc&gt;</span>《爆笑三国》是由外星科技开发的一款以三国历史为背景的战棋类游戏，发行于 FC（红白机）平台。游戏采用幽默诙谐的风格，重新演绎三国历史，增添了许多搞笑元素。玩家将扮演刘备、关羽、张飞等知名武将，体验丰富多样的职业系统和转职机制。游戏中包含多种职业，如步兵、骑兵、弓兵和文官等，每个职业都有独特的技能和转职路线，增加了游戏的策略深度和可玩性。此外，游戏还原了诸多经典的三国战役，并通过搞笑的剧情对白，为玩家带来轻松愉快的游戏体验。凭借其独特的风格和丰富的玩法，《爆笑三国》在众多 FC 游戏中脱颖而出，成为玩家们津津乐道的经典之作。<span class="nt">&lt;/desc&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;image&gt;</span>./assets/爆笑三国/boxfront.jpg<span class="nt">&lt;/image&gt;</span>
</span></span><span class="line"><span class="cl">        <span class="nt">&lt;marquee&gt;</span>./assets/爆笑三国/logo.png<span class="nt">&lt;/marquee&gt;</span>
</span></span><span class="line"><span class="cl">    <span class="nt">&lt;/game&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/gameList&gt;</span>
</span></span></code></pre></div><p>下面左图是未添加元数据之前，右图是添加过之后：</p>
<div class="img-row-gap" style="--num-cols: 2;">
    
    <img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-nintendo.webp" alt="rocknix-nintendo">
    
    <img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-nintendo-meta-ok.webp" alt="rocknix-nintendo-meta-ok">
</div>

<h3 id="支持在线更新系统"><a class="anchor" href="#%e6%94%af%e6%8c%81%e5%9c%a8%e7%ba%bf%e6%9b%b4%e6%96%b0%e7%b3%bb%e7%bb%9f">支持在线更新系统</a></h3>
<p>ROCKNIX 是不可变系统，因此在技术层面实现系统更新会更加容易和稳定。</p>
<p>在系统设置中下载好更新，重启即可，非常简单。如果设备无法联网，也可手动下载，具体可参考<a href="https://rocknix.org/play/update/#option-2-manual-update">官方文档</a>。</p>
<div class="img-row-gap" style="--num-cols: 2;">
    
    <img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-system-update-prompt.webp" alt="rocknix-system-update-prompt">
    
    <img src="/rg40xx-v-rocknix-installation-and-usage-notes/rocknix-updates-and-downloads.webp" alt="rocknix-updates-and-downloads">
</div>


    </div>
  </div>

  <div class="quiet-link">
      <span>上一篇：</span><a href="/traefik-auto-https-docker/">Traefik 实战：自动申请 HTTPS 证书并代理 Docker 服务</a><br>
      <span>下一篇：</span>未来篇章，等你穿越重逢
  </div>

</article>

<br>
  <div id="remark42"></div>
  <script>
    var remark_config = {
      host: 'https:\/\/comments.mwum.com',
      site_id: 'mwum',
      locale: 'zh',
      no_footer: true,
    }
  </script>
  <script>!function(e,n){for(var o=0;o<e.length;o++){var r=n.createElement("script"),c=".js",d=n.head||n.body;"noModule"in r?(r.type="module",c=".mjs"):r.async=!0,r.defer=!0,r.src=remark_config.host+"/web/"+e[o]+c,d.appendChild(r)}}(remark_config.components||["embed"],document);</script>


  </div>
</div>

<footer class="site-footer">

  <div class="wrapper">
    <div class="footer-content">
      <p>
        <span class="no-palm">本站采用 <a rel="license" href="//creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可<br></span>
        <span>©2013-2025 <a href="https://www.mwum.com/">明无梦</a></span>
        <span class="no-palm">| </span>
        <span>Powered by <a href="//gohugo.io/">Hugo</a></span>
        <span class="no-palm">| </span>
        <span>Hosted by <a href="//pages.cloudflare.com/">Cloudflare</a></span>
        <span class="no-palm">| </span>
        <span>Designed by <a href="https://www.mwum.com/">明无梦</a></span>
        <span class="no-laptop"><a rel="license" href="//creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a></span>
      </p>
    </div>

  </div>

</footer>


</body>

</html>
